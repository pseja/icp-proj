<automaton name="TOF5s">
    <comment>Timer to off, jednoduch√° verze.</comment>
    <inputs>
        <input name="in" />
    </inputs>
    <outputs>
        <output name="out" />
    </outputs>
    <variables>
        <variable name="timeout" type="int" value="5000" />
    </variables>
    <states>
        <state name="IDLE" initial="true">
            <code><![CDATA[output("out", 0);]]></code>
        </state>
        <state name="ACTIVE">
            <code><![CDATA[output("out", 1);]]></code>
        </state>
        <state name="TIMING" />
    </states>
    <transitions>
        <transition from="IDLE" to="ACTIVE">
            <condition event="in"><![CDATA[Qtoi(valueof("in")) == 1]]></condition>
        </transition>
        <transition from="ACTIVE" to="TIMING">
            <condition event="in"><![CDATA[Qtoi(valueof("in")) == 0]]></condition>
        </transition>
        <transition from="TIMING" to="ACTIVE">
            <condition event="in"><![CDATA[Qtoi(valueof("in")) == 1]]></condition>
        </transition>
        <transition from="TIMING" to="IDLE">
            <delay>timeout</delay>
        </transition>
    </transitions>
</automaton>